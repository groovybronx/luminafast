<nav class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50">
  <div class="container mx-auto px-4 max-w-6xl">
    <div class="flex justify-between items-center h-16">
      <!-- Logo -->
      <div class="flex items-center">
        <a href="{{ '/' | relative_url }}" class="flex items-center space-x-3">
          <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
            <i class="fas fa-camera text-white text-sm"></i>
          </div>
          <span class="text-xl font-bold text-gray-900">LuminaFast</span>
        </a>
      </div>
      
      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center space-x-8">
        <a href="{{ '/' | relative_url }}" class="text-gray-700 hover:text-primary font-medium">Accueil</a>
        
        <!-- Features Dropdown -->
        <div class="relative group">
          <button class="text-gray-700 hover:text-primary font-medium flex items-center">
            Fonctionnalités
            <i class="fas fa-chevron-down text-xs ml-1"></i>
          </button>
          <div class="absolute top-full left-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
            <div class="py-2">
              <a href="{{ '/features/phase-0-foundations.html' | relative_url }}" class="block px-4 py-2 text-gray-700 hover:bg-gray-50">Phase 0 - Fondations</a>
              <a href="{{ '/features/phase-1-data-layer.html' | relative_url }}" class="block px-4 py-2 text-gray-700 hover:bg-gray-50">Phase 1 - Data Layer</a>
              <a href="{{ '/features/phase-2-import.html' | relative_url }}" class="block px-4 py-2 text-gray-700 hover:bg-gray-50">Phase 2 - Import</a>
              <a href="{{ '/features/roadmap.html' | relative_url }}" class="block px-4 py-2 text-gray-700 hover:bg-gray-50">Roadmap Complète</a>
            </div>
          </div>
        </div>
        
        <a href="{{ '/documentation/' | relative_url }}" class="text-gray-700 hover:text-primary font-medium">Documentation</a>
        <a href="{{ '/installation/' | relative_url }}" class="text-gray-700 hover:text-primary font-medium">Installation</a>
        <a href="{{ '/stats/' | relative_url }}" class="text-gray-700 hover:text-primary font-medium">Statistiques</a>
      </div>
      
      <!-- Right side buttons -->
      <div class="flex items-center space-x-4">
        <!-- Dark mode toggle -->
        <button onclick="toggleDarkMode()" class="text-gray-500 hover:text-gray-700">
          <i class="fas fa-moon" id="darkModeIcon"></i>
        </button>
        
        <!-- GitHub link -->
        <a href="https://github.com/groovybronx/luminafast" target="_blank" class="text-gray-500 hover:text-gray-700">
          <i class="fab fa-github text-xl"></i>
        </a>
        
        <!-- CTA Button -->
        <a href="{{ '/installation/getting-started.html' | relative_url }}" class="hidden md:block bg-primary text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors">
          Installer
        </a>
        
        <!-- Mobile menu button -->
        <button onclick="toggleMobileMenu()" class="md:hidden text-gray-500 hover:text-gray-700">
          <i class="fas fa-bars text-xl"></i>
        </button>
      </div>
    </div>
    
    <!-- Mobile Navigation -->
    <div id="mobileMenu" class="hidden md:hidden pb-4">
      <div class="space-y-2">
        <a href="{{ '/' | relative_url }}" class="block px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg">Accueil</a>
        <a href="{{ '/features/' | relative_url }}" class="block px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg">Fonctionnalités</a>
        <a href="{{ '/documentation/' | relative_url }}" class="block px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg">Documentation</a>
        <a href="{{ '/installation/' | relative_url }}" class="block px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg">Installation</a>
        <a href="{{ '/stats/' | relative_url }}" class="block px-3 py-2 text-gray-700 hover:bg-gray-50 rounded-lg">Statistiques</a>
        <a href="{{ '/installation/getting-started.html' | relative_url }}" class="block px-3 py-2 bg-primary text-white rounded-lg text-center">Installer</a>
      </div>
    </div>
  </div>
</nav>

<script>
function toggleDarkMode() {
  const html = document.documentElement;
  const icon = document.getElementById('darkModeIcon');
  
  if (html.classList.contains('dark')) {
    html.classList.remove('dark');
    icon.classList.remove('fa-sun');
    icon.classList.add('fa-moon');
    localStorage.theme = 'light';
  } else {
    html.classList.add('dark');
    icon.classList.remove('fa-moon');
    icon.classList.add('fa-sun');
    localStorage.theme = 'dark';
  }
}

function toggleMobileMenu() {
  const menu = document.getElementById('mobileMenu');
  menu.classList.toggle('hidden');
}

// Set initial icon
document.addEventListener('DOMContentLoaded', function() {
  const icon = document.getElementById('darkModeIcon');
  if (document.documentElement.classList.contains('dark')) {
    icon.classList.remove('fa-moon');
    icon.classList.add('fa-sun');
  }
});
</script>
